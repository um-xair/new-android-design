<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            justify-content: center;
            align-items: center;
            background-color: #f4f9ff;
            overflow: auto;
        }

        .container {
            width: 100%;
            max-width: 430px;
            margin: 0 auto;
            padding: 20px;
    padding-top: 120px; /* Adds space between the header and first cart item */


        }

        .checkbox-container {
    display: flex;
    align-items: center;
    margin-top: 20px; /* Space between each item */
    width: 100%;
}

.cart-checkbox {
    margin-right: 10px; /* Space between the checkbox and the cart item */
    width: 15px;
    height: 15px;
    cursor: pointer;
}

.cart-item {
    position: relative; /* To position the close icon within this container */
    flex-grow: 1;
    display: flex;
    align-items: center;
    background-color: #fff;
    padding: 20px;
    border-radius: 30px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Close icon styling */
.close-icon {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 18px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close-icon:hover {
    color: #e74c3c; /* Change color on hover */
}




        .cart-item img {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            object-fit: cover;
        }

        .cart-item-details {
            flex-grow: 1;
            margin-left: 20px;
        }

        .cart-item-details h3 {
            margin: 0 0 10px;
            font-size: 13px;
        }

        .cart-item-variation {
            margin-bottom: 10px;
        }

        .cart-item-variation select {
            padding: 5px;
            border-radius: 10px;
            border: 1px solid #ccc;
            width: 90%;
            margin-left: 5px;
            font-size: 12px;
        }

        .cart-item-price {
            font-size: 15px;
            color: #333;
            margin-right: 20px;
        }

        .price-quantity-container {
    display: flex;
    align-items: center;
    margin-top: 10px;
}

.cart-item-price {
    font-size: 18px;
    color: #333;
    margin-left: 10px;
    font-weight: bold;
}

.cart-item-quantity {
    display: flex;
    align-items: center;
    background: #f4f9ff;
}

/* Default style for quantity control buttons */
.quantity-control button {
    background-color: #162f4e;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 1.1em;
    margin: 0 5px;
    width: 35px;
    height: 35px;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Default style for quantity control input */
.quantity-control input {
    width: 35px;
    text-align: center;
    padding: 5px;
    font-size: 14px;
    border: transparent;
    background: #f4f9ff;
}



.cart-footer {
    position: fixed; /* Keeps the element fixed on the screen */
    bottom: 0; /* Positions it at the bottom */
    left: 50%; /* Positions the left edge at the center of the screen */
    transform: translateX(-50%); /* Moves the element to the left by 50% of its width, centering it */
    width: 85%; /* Adjusts the width */
    z-index: 1000; /* Ensures it stays on top of other elements */
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background-color: #162f4e;
    border-radius: 20px;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow for depth */
    margin-bottom: 20px; /* Adds a margin at the bottom */
}

.cart-footer h3 {
    font-size: 24px;
    font-weight: 600;
    color: #fff;
    margin: 0; /* Ensures no extra margin */
}

.checkout-button {
    background-color: #fff;
    color: #162f4e;
    font-weight: 600;
    border: none;
    padding: 13px 20px;
    border-radius: 50px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.checkout-button:hover {
    background-color: #d1e6ff;
}


        header {
    display: flex;
    align-items: center;
    padding: 10px 50px; 
    border-bottom: 1px solid #eaeaea;
    background-color: #fff; 
    position: fixed; 
    top: 0; 
    left: 0; 
    right: 0; 
    z-index: 1000; 
}

.back-button {
    background: none;
    border: none;
    font-size: 18px;
    cursor: pointer;
    margin-right: 10px; 
}

h1 {
    flex-grow: 1; 
    text-align: center; 
}

a {
    text-decoration: none;
}

.modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
    }

    .modal-content {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        width: 300px;
        text-align: center;
    }

    .icon {
        font-size: 24px;
        color: #e74c3c;
    }

    .button-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 20px;
    }

    .button-container button {
        padding: 15px 30px;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        cursor: pointer;
        font-weight: 500;
        transition: background-color 0.3s ease;
        width: 100%;
        font-family: 'Poppins', sans-serif;
    }

    .yes-button {
        background-color: #e74c3c;
        color: #fff;
    }

    .yes-button:hover {
        background-color: #c0392b;
    }

    .cancel-button {
        background-color: #fff;
        color: #333;
        border: 1px solid #333;
    }

    .cancel-button:hover {
        background-color: #bbb;
    }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="new-product-showcase.html" class="back-button"><i class="fa fa-chevron-left"></i></a>
            <h1>Shopping Cart</h1>
        </header>
        
        <!-- Cart Item 1 -->
        <div class="checkbox-container">
            <input type="checkbox" id="checkbox1" class="cart-checkbox">
            <div class="cart-item">
                <span class="close-icon" onclick="showRemoveModal(this)">×</span>
                <img src="assets/citi.jpeg" alt="Product Image">
                <div class="cart-item-details">
                    <h3>【Quinton】 Cozy Stroller</h3>
                    <div class="cart-item-variation">
                        <select id="colorSelect1">
                            <option value="black">Black</option>
                            <option value="grey">Grey</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    <div class="price-quantity-container">
                        <div class="cart-item-price">
                            <span id="totalPrice1">RM 200</span>
                        </div>
                        <div class="cart-item-quantity quantity-control">
                            <button id="decreaseQty1">-</button>
                            <input type="number" id="quantityInput1" value="1" min="1">
                            <button id="increaseQty1">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cart Item 2 -->
        <div class="checkbox-container">
            <input type="checkbox" id="checkbox2" class="cart-checkbox">
            <div class="cart-item">
                <span class="close-icon" onclick="showRemoveModal(this)">×</span>
                <img src="assets/citi.jpeg" alt="Product Image">
                <div class="cart-item-details">
                    <h3>【Quinton】 Cozy Stroller</h3>
                    <div class="cart-item-variation">
                        <select id="colorSelect2">
                            <option value="black">Black</option>
                            <option value="grey">Grey</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    <div class="price-quantity-container">
                        <div class="cart-item-price">
                            <span id="totalPrice2">RM 200</span>
                        </div>
                        <div class="cart-item-quantity quantity-control">
                            <button id="decreaseQty2">-</button>
                            <input type="number" id="quantityInput2" value="1" min="1">
                            <button id="increaseQty2">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Footer -->
        <div class="cart-footer">
            <h3>Total: <span id="grandTotal">RM 300</span></h3>
            <button class="checkout-button" onclick="location.href='new-checkout.html'">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Remove Product Modal -->
    <div id="removeProductModal" class="modal" style="display: none;">
        <div class="modal-content">
            <i class="fas fa-times-circle icon"></i>
            <h2>Remove Product?</h2>
            <p>Are you sure you want to remove this item from your cart?</p>
            <div class="button-container">
                <button class="yes-button" onclick="confirmRemove()">Yes</button>
                <button class="cancel-button" onclick="cancelRemove()">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        let itemToRemove;
    
        function showRemoveModal(element) {
            itemToRemove = element.closest('.checkbox-container');
            document.getElementById('removeProductModal').style.display = 'flex';
        }
    
        function confirmRemove() {
            if (itemToRemove) {
                itemToRemove.remove();
                updateGrandTotal();
            }
            closeModal();
        }
    
        function cancelRemove() {
            closeModal();
        }
    
        function closeModal() {
            document.getElementById('removeProductModal').style.display = 'none';
        }
    
        // Quantity and total price logic for Item 1
        const checkbox1 = document.getElementById('checkbox1');
        const decreaseQty1 = document.getElementById('decreaseQty1');
        const increaseQty1 = document.getElementById('increaseQty1');
        const quantityInput1 = document.getElementById('quantityInput1');
        const totalPrice1 = document.getElementById('totalPrice1');
        let unitPrice1 = 200;
    
        checkbox1.addEventListener('change', updateGrandTotal);
        decreaseQty1.addEventListener('click', () => {
            if (quantityInput1.value > 1) {
                quantityInput1.value--;
                updatePrice1();
            }
        });
    
        increaseQty1.addEventListener('click', () => {
            quantityInput1.value++;
            updatePrice1();
        });
    
        quantityInput1.addEventListener('input', updatePrice1);
    
        function updatePrice1() {
            if (checkbox1.checked) {
                let quantity1 = quantityInput1.value;
                let price1 = 'RM ' + unitPrice1 * quantity1;
                totalPrice1.textContent = price1;
                updateGrandTotal();
            }
        }
    
        function updateGrandTotal() {
            let total1 = checkbox1.checked ? unitPrice1 * quantityInput1.value : 0;
            let grandTotalAmount = total1;
            document.getElementById('grandTotal').textContent = 'RM ' + grandTotalAmount;
        }
    
        // Quantity and total price logic for Item 2
        const checkbox2 = document.getElementById('checkbox2');
        const decreaseQty2 = document.getElementById('decreaseQty2');
        const increaseQty2 = document.getElementById('increaseQty2');
        const quantityInput2 = document.getElementById('quantityInput2');
        const totalPrice2 = document.getElementById('totalPrice2');
        let unitPrice2 = 200;
    
        checkbox2.addEventListener('change', updateGrandTotal);
        decreaseQty2.addEventListener('click', () => {
            if (quantityInput2.value > 1) {
                quantityInput2.value--;
                updatePrice2();
            }
        });
    
        increaseQty2.addEventListener('click', () => {
            quantityInput2.value++;
            updatePrice2();
        });
    
        quantityInput2.addEventListener('input', updatePrice2);
    
        function updatePrice2() {
            if (checkbox2.checked) {
                let quantity2 = quantityInput2.value;
                let price2 = 'RM ' + unitPrice2 * quantity2;
                totalPrice2.textContent = price2;
                updateGrandTotal();
            }
        }
    
        function updateGrandTotal() {
            let total1 = checkbox1.checked ? unitPrice1 * quantityInput1.value : 0;
            let total2 = checkbox2.checked ? unitPrice2 * quantityInput2.value : 0;
            let grandTotalAmount = total1 + total2;
            document.getElementById('grandTotal').textContent = 'RM ' + grandTotalAmount;
        }
    </script>
</body>
</html>